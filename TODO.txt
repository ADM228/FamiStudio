4.0.0
=====

N163 Multi-wave:
================
- IMPORTER??? How should it work?
	- Add context menu to open wave file.
		- Import a fixed number of samples (12000?).
	- Draw waveform on top of envelope.
	- Add "From Wav File" preset.
	- Add scale + bias parameters.
	- Scale/bias param
	- Option to clear the wave data + project cleanup.
	- When exporting to FamiStudio text, clear to custom profile.
	- That's it
- UI : PC: Highlight, cursors, tooltip.
- UI : Mobile : Gizmos, highlight, etc.

P0:
- Improve snapping. (Ask Infu for feedback, he showed an app that he found intuitive)
	=> Way to temporarely disable snapping (FL studio does it with ALT).
	=> Context menu option to set the snapping to the length of a note ("snapping eyedropper")
	=> Remove 1-frame snap glitch.
	=> Snap effect values (at least give the option to!)
- Improve oscilloscope stability (use channel frequency)
/ Sequencer improvement
  - Add shortcut ([2] ?). Make sure to abort capture if that happens.
  - Add to shy to context menu somewhere.
- Full S5B support?

P1:
- Dark mode for open/save dialogs on MacOS? + title bar?
- Display number of selected channels in grid for video export?
- BUG : Selection rec in envelope editor has 1 extra pixel in lower part of header.
- Is CPU usage higher?

4.0.0 Change Log
================
- Revamped desktop version, based on GLFW using custom drawn widgets
- Redesigned desktop controls : context menu, gizmos, etc. 
- Animated GIFs for intro tutorial on desktop
- More control over sequencer height & ability to hide unused channels
- Support to multiple audio expansions with EPSM
- Support for multiple waveforms for N163/FDS
- Support for audio expansions for ROM export 
- 

Testing:
========
- TEST : Test -/+ fast scroll on mobile.
- TEST : Test no attack in playback + NSF.
- TEST : Restest Famitracker formats a lot, import FTM/TXT and compare. Re-test FDS too.
- Restest sequencer hide channel a bunch, test vertical scroll bars, test mobile too. Make sure not broken.
- Restest slide notes on mobile, make sure gizmo is stable on both sides when releasing(up/down)
- Restest multiple songs per file (changed multiplication thing)

Packaging:
==========
- UNIT-TEST : Add multi-wave to N163/FDS unit tests.
- UNIT-TEST : Add FDS mod to unit tests (effect + delay)
- Opening Gyruss (see if other FDS/N163 songs affected) sets the waveform to 'Sine'. This is bad data. How did it happen??

Batch convert PNG -> TGA
==========================
"c:\Program Files\ImageMagick-7.1.0-Q8\magick.exe" mogrify -path D:\Dump\Icons\Out\Tga -compress RLE -format tga *.png

Linux notes 
=========== 
- When slow startup in VM : dbus-launch --exit-with-session mono FamiStudio.exe 
- How to recompile with old linux: 
	- Ubuntu 16.04.6 
	- Install cmake-gui 
	- OpenAL Soft 
		- Install ALSA libs (libasound2-dev) 
		- Download openal-soft code 
		- Run cmake-gui in /build folder. 
		- Configure 
		- Choose static C + C++ libs 
		- Choose Release (no debug info) 
		- Generate. 
		- make! 
	- OGG:
		- Download ogg/vorbis code
		- cmake-gui, static lib, configure
		- CMakeFiles/vorbis.dir/flags.make, add -fPIC
			C_FLAGS = -O3 -DNDEBUG -fPIC 
		- Same for OGG
	- NesSndEmu + NotSoFatso, run script. 
	- RtMidi, need to add static C/C++ libs to cmake file. 
 
MacOS notes
===========
- MacOS Sierra, fully patched is 10.12.6, with AppKit version 1504.83.101
- Must compile vorbis on old version too (like Sierra). 
- If problem installing MacOS VM, see @DOUG fix at
  https://www.geekrar.com/how-to-fix-the-cpu-has-been-disabled-by-the-guest-os/
	cpuid.0.eax = "0000:0000:0000:0000:0000:0000:0000:1011"
	cpuid.0.ebx = "0111:0101:0110:1110:0110:0101:0100:0111"
	cpuid.0.ecx = "0110:1100:0110:0101:0111:0100:0110:1110"
	cpuid.0.edx = "0100:1001:0110:0101:0110:1110:0110:1001"
	cpuid.1.eax = "0000:0000:0000:0001:0000:0110:0111:0001"
	cpuid.1.ebx = "0000:0010:0000:0001:0000:1000:0000:0000"
	cpuid.1.ecx = "1000:0010:1001:1000:0010:0010:0000:0011"
	cpuid.1.edx = "0000:0111:1000:1011:1111:1011:1111:1111"
- If NAT network doesnt work (problem is only in Monterey right now) do that:
	ethernet0.virtualDev = "vmxnet3"

Convert PNG to TGA
==================
magick mogrify -path C:\Dump\PngToTga\Tga\ -format tga -compress RLE *.png

Android Notes
=============
Key Store
- Alias : FamiStudio
- Pass : Usual x2
- 30 Years
- Only full name entered.

Trailer/scroll 
============== 
- Stashed in 5beed88a1bc487ec2cbc725b9d749a464e57dece. 
 
MkDocs 
====== 
- Install Python 
- pip install mkdocs 
- pip install mkdocs-bootswatch 
 
Discord 
======= 
- Invite link: https://discord.gg/88UPmxh 

Backlog: 
=========
- BUG : Drag single pattern (with one note covring the entire pattern) from 1 channel to the other while its playing, the old note keeps playing and adds on top.
- BUG : "theres a bug where when you select a pattern multiple times and you try to change a note, the change is multiplied by the # of patterns you selected", see video.
- Reorder channels for video export.
- More options for oscilloscope (https://github.com/maxim-zhao/SidWizPlus/wiki)
- Overclocking (2x, 3x, 4x would be a good start).
- Save snapping + qwerty settings + some export settings.
- Hardware sweep (how to not conflict with smooth vibrato?)
- Scales
- Raw FDS modulation table envelope. 
- Instrument folders + collapse entire sections (samples, arps, etc.) 
- Alphabetical ordering should be a bit smarter about numbers.
- Sound output selection?
- Give better names to auto saves
- Android : Starting scroll on a slider (in vrc7 instrument) changes the value. How to fix???
- Volume/effect scaling, easy one we have context menus.
- Cleanup : remove duplicated fx values (ex: same volume applied multiple times)
- Paste special, option to rename patterns.
- ffmpeg path on Linux should work on path (Puna on CC discord).
- Uncompressed envelopes
- CLI only EXE (Linux only).
- C0 is hidden by scroll bars
- C0 is hidden in piano roll video
- Piano roll scale on desktop?
- Poppin issue on FDS? See messages from "JHÄ€KRI" on discord. Change volume on FDS with a blank waveform.
- Dont reset camera in piano roll when deleting instrument (probably to handle case where you were editing the instrument)
- Improve no-attack.
	- Allow disabling attacks if all envelopes of both instruments are exactly the same.
	- Draw attack as red if user makes a mistake.
